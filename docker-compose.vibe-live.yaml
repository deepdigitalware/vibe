# Vibe Live: LiveKit SFU
# Domain: live.vibe.deepverse.cloud
# Port: 7880
# IMPORTANT: Set "Network Mode" to "Host" in Coolify settings

version: '3.9'

services:
  livekit:
    image: livekit/livekit-server:latest
    container_name: vibe-livekit
    restart: always
    network_mode: host
    environment:
      LIVEKIT_CONFIG: |
        port: 7880
        rtc:
          tcp_port: 7881
          udp_port: 7882
          port_range_start: 50000
          port_range_end: 60000
          use_external_ip: true
        keys:
          DEV8F2D5C1A9B7642E3: "7d8f2a9c4e1b6d3f0a5c8b2e7f4d1a9c6b3e0f5a4c7d2b8e1f9a0c3d6b5e2f7"
    # Removed healthcheck as livekit image is minimal and lacks curl/wget
    # Coolify will monitor container status directly
